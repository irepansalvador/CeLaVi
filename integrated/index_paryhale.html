<!DOCTYPE html>
<meta charset="utf-8">
<!-- JS scripts -->

	<head>
		<meta charset="UTF-8">
		<title>Cell lineage visualisation</title>
		<!-- Custom CSS styles -->
		<link href="style.css" rel="stylesheet" type="text/css" >
        <link rel="stylesheet" href="./lib/d3-context-menu.css" />
        <script src="./lib/d3.v3.js"></script>
        <script src="./lib/d3.v4.min.js"></script> <!-- 3d cells-->
        <script src="./lib/d3-3d.min.js"></script>
        <script src="./lib/jquery.min.js"></script>
        <script src="./lib/newick.js" type="text/javascript"></script>
        <script src="./lib/d3-hierarchy.min.js"></script>
        <script src="./lib/d3-context-menu.js"></script>
        <script src="https://d3js.org/d3-color.v1.min.js"></script>
        <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
        <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    </head>

    <body>
		<div id= "container", class="svg-container">
			<h1> Cell lineage interactive visualisation</h1>
            <h2> <i> by Irepan Salvador-Martinez </i> </h2>

            <!-- Custom Buttons -->
            <input type="file" id="Tree_uploader">

            <button id="Reset" onclick="update(root)">Reset tree</button>
            <button id="BranchLegths" onclick="show_bl()">BranchLengths</button>
            <button id="CollapseAll" onclick="collapseAll()">Collapse All</button>
	        <button id="ExpandAll" onclick="expandAll()">Expand All</button>	
            <button id="Update" onclick="reset_cell_cols()">Reset cells</button>
            <button id="Disparity" onclick="disparity()">Disparity</button>
            
            <input type="file" id="3Dcoord_uploader">
            
            <div class="status" align="right" > Click on a cell      </div>
            
            <!-- Separate Areas -->
			<div id="area1"> <!-- cell lineage -->
            <h2>Cell lineage</h2>
			</div>
            
			<div id="area2"> <!-- cells in 3d -->
            <h2> Cells in 3D</h2>
            </div>
            <!-- Pan/zoom buttons  -->
            <div  align="right" class="controls">
                <button id="zoom_in" >+</button>
                <button id="zoom_out">-</button>
                <button id="pan_up"  >^</button>
                <button id="pan_down">v</button>
                <button id="pan_right">></button>
                <button id="pan_left"><</button>
                <button id="reset">reset</button>
            </div>
        
            <div  align="left" class="controls">
                <button id="zoom_in_tree" >< ></button>
                <button id="zoom_out_tree">> <</button>
                <button id="pan_up_tree"  >^</button>
                <button id="pan_down_tree">v</button>
            </div>
		</div> 
        <div id="slider">
           <h2>Tree depth</h2>
        </div>
        <div id="HM_scale">
           <h2>Disparity (mean lineage distance of 5 closest neighbours)</h2>
        </div>
        

		<div id="footer">
			<strong>Source</strong> : www.my_github_account.com
		</div>
		<!-- JS Libraries -->
		<!--<script src="d3.js" charset="utf-8"></script>-->
  
        <!-- Custom JS code -->
        <script src="cells_3d_paryhale.js"></script><!-- -->
		<script src="cell_lineage_v4_paryhale.js"></script>
        <script src="brush_paryhale.js"></script>
        <script src="HM_scale.js"></script>
        <script>Coords_upload_button("3Dcoord_uploader", load_dataset_2)</script>
        <script>Tree_upload_button("Tree_uploader", load_dataset_1)</script>
        <!-- Run functions to initialise the visualisation -->
        <script>
            init();
            //tree_from_New();
            processData(data,0);
            reset_cell_cols();
          //  console.log("here?");
        </script>
        
	</body>